"use strict";(self.webpackChunkStore_Angular_App=self.webpackChunkStore_Angular_App||[]).push([[968],{2633:(Y,d,r)=>{r.r(d),r.d(d,{UsersFeatureModule:()=>x});var m=r(4755),l=r(2480),t=r(2223),L=r(8505),U=r(5855),p=r(114),Z=r(2342),A=r(8356),f=r(9066);let y=(()=>{class e{constructor(o,n,a){this._snackBar=o,this._direction=n,this._translate=a,this.panelClass=u=>"success"===u?["snack-success"]:"error"===u?["snack-error"]:void 0,this.snackbar=(u,k,O=1e4)=>{this._snackBar.open(u,this._translate.instant("close"),{direction:this._direction.direction,duration:O,panelClass:this.panelClass(k)})}}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(Z.ux),t.LFG(A.m),t.LFG(f.sK))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var s=r(9401),c=r(9114),C=r(8097),g=r(6012),h=r(1728),S=r(430);function T(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"required")))}function B(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"required")))}let J=(()=>{class e{constructor(o){this.formBuilder=o,this.onLoginForm=new t.vpe,this.hide=!0,this.loginForm=this.formBuilder.group({userName:new s.NI("",{validators:[s.kI.required]}),password:new s.NI("",{validators:s.kI.required})})}ngOnInit(){}onSubmit(){this.onLoginForm.emit(this.loginForm.value)}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(s.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login-ui"]],outputs:{onLoginForm:"onLoginForm"},decls:25,vars:20,consts:[[1,"d-flex","justify-content-center","align-items-center","h-100"],[1,"max-w-24","rounded-3"],[1,"h4","mb-3"],[3,"formGroup"],["appearance","fill",1,"w-100","mb-2"],["matInput","","formControlName","userName","required",""],[4,"ngIf"],["matInput","","formControlName","password","required","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","primary",1,"w-100",3,"disabled","click"]],template:function(o,n){if(1&o&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-content")(3,"h1",2),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"form",3)(7,"mat-form-field",4)(8,"mat-label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t._UZ(11,"input",5),t.YNc(12,T,3,3,"mat-error",6),t.qZA(),t.TgZ(13,"mat-form-field",4)(14,"mat-label"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t._UZ(17,"input",7),t.TgZ(18,"button",8),t.NdJ("click",function(){return n.hide=!n.hide}),t.TgZ(19,"mat-icon"),t._uU(20),t.qZA()(),t.YNc(21,B,3,3,"mat-error",6),t.qZA(),t.TgZ(22,"button",9),t.NdJ("click",function(){return n.onSubmit()}),t._uU(23),t.ALo(24,"translate"),t.qZA()()()()()),2&o){let a,u;t.xp6(4),t.Oqu(t.lcZ(5,12,"login")),t.xp6(2),t.Q6J("formGroup",n.loginForm),t.xp6(3),t.Oqu(t.lcZ(10,14,"userName")),t.xp6(3),t.Q6J("ngIf",null==(a=n.loginForm.get("userName"))?null:a.hasError("required")),t.xp6(3),t.Oqu(t.lcZ(16,16,"enterYourPassword")),t.xp6(2),t.Q6J("type",n.hide?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",n.hide),t.xp6(2),t.Oqu(n.hide?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngIf",null==(u=n.loginForm.get("password"))?null:u.hasError("required")),t.xp6(1),t.Q6J("disabled",n.loginForm.invalid),t.xp6(1),t.hij(" ",t.lcZ(24,18,"login")," ")}},dependencies:[m.O5,c.KE,c.hX,c.TO,c.R9,C.Nt,g.a8,g.dn,h.lW,h.RK,S.Hw,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,f.X$],changeDetection:0}),e})(),v=(()=>{class e{constructor(o,n,a){this.authService=o,this.snackBarService=n,this.router=a,this.destroyRef=(0,t.f3M)(t.ktI)}submitLoginForm(o){this.authService.login(o).pipe((0,U.sL)(this.destroyRef),(0,L.b)(n=>{this.snackBarService.snackbar(n?.message,200===n?.status?"success":"error"),200===n?.status&&this.router.navigate(["admin"===n?.role?"/store/dashboard":"/store/products"])})).subscribe()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(p.e),t.Y36(y),t.Y36(l.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:1,vars:0,consts:[[3,"onLoginForm"]],template:function(o,n){1&o&&(t.TgZ(0,"app-login-ui",0),t.NdJ("onLoginForm",function(u){return n.submitLoginForm(u)}),t.qZA())},dependencies:[J]}),e})();var N=r(4004);const I=[{path:"",component:v,title:"login",canActivate:[(e,i)=>{const o=(0,t.f3M)(p.e),n=(0,t.f3M)(l.F0);return o.currentUser.pipe((0,N.U)(a=>!a||(n.navigate(["/","store"]),!1)))}]}];let M=(()=>{class e{}return e.Component=[v],e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.Bz.forChild(I),l.Bz]}),e})();var F=r(5135);let b=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.ez,F.m,s.u5,s.UX]}),e})(),x=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.ez,M,b,F.m]}),e})()}}]);